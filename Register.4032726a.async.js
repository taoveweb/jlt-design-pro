webpackJsonp([15],{"0d3E":function(e,t,a){"use strict";a("QhmJ"),a("fgLs")},"1Jha":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"default",function(){return $});var r,n,s,i=a("HvoL"),l=(a.n(i),a("HjUY")),o=a.n(l),c=a("o6Dh"),u=(a.n(c),a("u/HW")),p=a.n(u),m=a("0d3E"),d=(a.n(m),a("nc9J")),f=a.n(d),h=a("rX2e"),g=(a.n(h),a("Fzzn")),v=a.n(g),_=a("ONX1"),E=(a.n(_),a("LQKq")),y=a.n(E),b=a("irdN"),w=a.n(b),P=a("pQaW"),x=a.n(P),F=a("dJDI"),k=a.n(F),Q=a("953G"),N=a.n(Q),S=a("GUYF"),z=a.n(S),J=a("O1Ds"),T=a.n(J),W=a("onUN"),C=(a.n(W),a("M1zK")),O=a.n(C),j=a("94Q0"),L=(a.n(j),a("lN3d")),D=a.n(L),M=a("qVhV"),U=(a.n(M),a("pmrH")),H=a.n(U),K=a("GiK3"),q=a.n(K),G=a("S6G3"),I=(a.n(G),a("7xWd")),V=(a.n(I),a("vdwz")),X=a.n(V),A=H.a.Item,B=D.a.Option,R=O.a.Group,Y={ok:q.a.createElement("div",{className:X.a.success},"\u5f3a\u5ea6\uff1a\u5f3a"),pass:q.a.createElement("div",{className:X.a.warning},"\u5f3a\u5ea6\uff1a\u4e2d"),poor:q.a.createElement("div",{className:X.a.error},"\u5f3a\u5ea6\uff1a\u592a\u77ed")},Z={ok:"success",pass:"normal",poor:"exception"},$=(r=Object(G.connect)(function(e){return{register:e.register,submitting:e.loading.effects["register/submit"]}}),n=H.a.create(),r(s=n(s=function(e){function t(){var e,a,r;x()(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return z()(r,(a=r=z()(this,(e=T()(t)).call.apply(e,[this].concat(s))),r.state={count:0,confirmDirty:!1,visible:!1,help:"",prefix:"86"},r.onGetCaptcha=function(){var e=59;r.setState({count:e}),r.interval=setInterval(function(){e-=1,r.setState({count:e}),0===e&&clearInterval(r.interval)},1e3)},r.getPasswordStatus=function(){var e=r.props.form,t=e.getFieldValue("password");return t&&t.length>9?"ok":t&&t.length>5?"pass":"poor"},r.handleSubmit=function(e){e.preventDefault();var t=r.props,a=t.form,n=t.dispatch;a.validateFields({force:!0},function(e,t){var a=r.state.prefix;e||n({type:"register/submit",payload:w()({},t,{prefix:a})})})},r.handleConfirmBlur=function(e){var t=e.target.value,a=r.state.confirmDirty;r.setState({confirmDirty:a||!!t})},r.checkConfirm=function(e,t,a){var n=r.props.form;t&&t!==n.getFieldValue("password")?a("\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u5339\u914d!"):a()},r.checkPassword=function(e,t,a){if(t){r.setState({help:""});var n=r.state,s=n.visible,i=n.confirmDirty;if(s||r.setState({visible:!!t}),t.length<6)a("error");else{var l=r.props.form;t&&i&&l.validateFields(["confirm"],{force:!0}),a()}}else r.setState({help:"\u8bf7\u8f93\u5165\u5bc6\u7801\uff01",visible:!!t}),a("error")},r.changePrefix=function(e){r.setState({prefix:e})},r.renderPasswordProgress=function(){var e=r.props.form,t=e.getFieldValue("password"),a=r.getPasswordStatus();return t&&t.length?q.a.createElement("div",{className:X.a["progress-".concat(a)]},q.a.createElement(y.a,{status:Z[a],className:X.a.progress,strokeWidth:6,percent:10*t.length>100?100:10*t.length,showInfo:!1})):null},a))}return N()(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.form,r=t.dispatch,n=a.getFieldValue("mail");"ok"===e.register.status&&r(I.routerRedux.push({pathname:"/user/register-result",state:{account:n}}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.form,a=e.submitting,r=t.getFieldDecorator,n=this.state,s=n.count,i=n.prefix,l=n.help,c=n.visible;return q.a.createElement("div",{className:X.a.main},q.a.createElement("h3",null,"\u6ce8\u518c"),q.a.createElement(H.a,{onSubmit:this.handleSubmit},q.a.createElement(A,null,r("mail",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1\u5730\u5740\uff01"},{type:"email",message:"\u90ae\u7bb1\u5730\u5740\u683c\u5f0f\u9519\u8bef\uff01"}]})(q.a.createElement(O.a,{size:"large",placeholder:"\u90ae\u7bb1"}))),q.a.createElement(A,{help:l},q.a.createElement(v.a,{content:q.a.createElement("div",{style:{padding:"4px 0"}},Y[this.getPasswordStatus()],this.renderPasswordProgress(),q.a.createElement("div",{style:{marginTop:10}},"\u8bf7\u81f3\u5c11\u8f93\u5165 6 \u4e2a\u5b57\u7b26\u3002\u8bf7\u4e0d\u8981\u4f7f\u7528\u5bb9\u6613\u88ab\u731c\u5230\u7684\u5bc6\u7801\u3002")),overlayStyle:{width:240},placement:"right",visible:c},r("password",{rules:[{validator:this.checkPassword}]})(q.a.createElement(O.a,{size:"large",type:"password",placeholder:"\u81f3\u5c116\u4f4d\u5bc6\u7801\uff0c\u533a\u5206\u5927\u5c0f\u5199"})))),q.a.createElement(A,null,r("confirm",{rules:[{required:!0,message:"\u8bf7\u786e\u8ba4\u5bc6\u7801\uff01"},{validator:this.checkConfirm}]})(q.a.createElement(O.a,{size:"large",type:"password",placeholder:"\u786e\u8ba4\u5bc6\u7801"}))),q.a.createElement(A,null,q.a.createElement(R,{compact:!0},q.a.createElement(D.a,{size:"large",value:i,onChange:this.changePrefix,style:{width:"20%"}},q.a.createElement(B,{value:"86"},"+86"),q.a.createElement(B,{value:"87"},"+87")),r("mobile",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\uff01"},{pattern:/^1\d{10}$/,message:"\u624b\u673a\u53f7\u683c\u5f0f\u9519\u8bef\uff01"}]})(q.a.createElement(O.a,{size:"large",style:{width:"80%"},placeholder:"11\u4f4d\u624b\u673a\u53f7"})))),q.a.createElement(A,null,q.a.createElement(o.a,{gutter:8},q.a.createElement(f.a,{span:16},r("captcha",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801\uff01"}]})(q.a.createElement(O.a,{size:"large",placeholder:"\u9a8c\u8bc1\u7801"}))),q.a.createElement(f.a,{span:8},q.a.createElement(p.a,{size:"large",disabled:s,className:X.a.getCaptcha,onClick:this.onGetCaptcha},s?"".concat(s," s"):"\u83b7\u53d6\u9a8c\u8bc1\u7801")))),q.a.createElement(A,null,q.a.createElement(p.a,{size:"large",loading:a,className:X.a.submit,type:"primary",htmlType:"submit"},"\u6ce8\u518c"),q.a.createElement(I.Link,{className:X.a.login,to:"/user/login"},"\u4f7f\u7528\u5df2\u6709\u8d26\u6237\u767b\u5f55"))))}}]),k()(t,e),t}(K.Component))||s)||s)},"1uA9":function(e,t,a){"use strict";a("QhmJ"),a("UxL4")},"7g1Q":function(e,t){},"94Q0":function(e,t,a){"use strict";a("QhmJ"),a("rCkd"),a("TZP0")},Fzzn:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("nFWT");t.default=r.Popover,e.exports=t.default},GitX:function(e,t){},HjUY:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("nFWT");t.default=r.Row,e.exports=t.default},HvoL:function(e,t,a){"use strict";a("QhmJ"),a("fgLs")},"KD/h":function(e,t){},LQKq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("nFWT");t.default=r.Progress,e.exports=t.default},M1zK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("nFWT");t.default=r.Input,e.exports=t.default},ONX1:function(e,t,a){"use strict";a("QhmJ"),a("7g1Q")},T12h:function(e,t){},TZP0:function(e,t,a){"use strict";a("QhmJ"),a("T12h"),a("1uA9")},UxL4:function(e,t){},cH1m:function(e,t,a){"use strict";a("QhmJ"),a("fgLs")},fgLs:function(e,t){},lN3d:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("nFWT");t.default=r.Select,e.exports=t.default},nc9J:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("nFWT");t.default=r.Col,e.exports=t.default},o6Dh:function(e,t,a){"use strict";a("QhmJ"),a("UxL4")},onUN:function(e,t,a){"use strict";a("QhmJ"),a("T12h"),a("1uA9")},pmrH:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("nFWT");t.default=r.Form,e.exports=t.default},qVhV:function(e,t,a){"use strict";a("QhmJ"),a("GitX"),a("cH1m")},rCkd:function(e,t){},rX2e:function(e,t,a){"use strict";a("QhmJ"),a("KD/h")},"u/HW":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("nFWT");t.default=r.Button,e.exports=t.default},vdwz:function(e,t){e.exports={main:"main___3ZSaF",getCaptcha:"getCaptcha___1l3Nu",submit:"submit___eP76K",login:"login___3k_UI",success:"success___119qs",warning:"warning___1oBUm",error:"error___1uwKK","progress-pass":"progress-pass___1jxgE",progress:"progress___2MLkT"}}});